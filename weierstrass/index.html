---
layout: default
highlighter: rouge
---
<head>
  <link rel="stylesheet"
  href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/styles/default.min.css">
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.7.2/p5.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.7.2/addons/p5.dom.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.7.2/addons/p5.sound.min.js"></script>
  <script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML' async></script>
  <link rel="stylesheet" type="text/css" href="style.css">
  <meta charset="utf-8" />
</head>
<body>
  <h2>ワイエルシュトラス関数1</h2>
  <p>見た目のインパクトがすごい関数</p>
  <h3>デモ</h3>
  <p>マウスホイールで拡大縮小、クリックで中心移動</p>
  <div id="p5"></div>
  <h3>説明</h3>
  <p>ワイエルシュトラス関数（ワイエルシュトラスかんすう、英: Weierstrass function）は、
    1872年にカール・ワイエルシュトラスにより提示された実数関数で、連続関数であるにもかか
    わらず至るところ微分不可能な関数である。
    <a target="_blank" href="https://ja.wikipedia.org/wiki/%E3%83%AF%E3%82%A4%E3%82%A8%E3%83%AB%E3%82%B7%E3%83%A5%E3%83%88%E3%83%A9%E3%82%B9%E9%96%A2%E6%95%B0">
      出典: フリー百科事典『ウィキペディア（Wikipedia）』
    </a>
  </p>
  <h3>実装</h3>
  \[
  w(x) = \sum_{n=0}^{\infty} {a^n \cos(b ^ n \pi x)}
  \]
  <p>を使う。Wikipediaによれば、\(a\)および\(b\)は \(0\lt a \lt 1\)かつ \(b\)が奇数の整数かつ \(ab > 1 + \frac {3} {2} \pi \simeq 5.71 \)を満たすように選べばよい。</p>
  <p>無限回の足し算はできないので、\(n\)回で切る。</p>
  <pre>
    <code class="js">
    function weierstrass(n, x) {
      let res = 0;
      for (let i = 0; i < n; i++) {
        res += Math.pow(A, i) * Math.cos(Math.pow(B, i) * Math.PI * x);
      }
      return res;
    }
    </code>
  </pre>
  <h3>続き</h3>
  <p>ワイエルシュトラス関数の表式をよく見ると、<a href="/processing-gallery/fourier_series">フーリエ級数</a>と似ている。</p>
  <p>これについては<a href="/processing-gallery/weierstrass/circles">ワイエルシュトラス関数2</a>に書く。</p>
  <script src="sketch.js"></script>
</body>
